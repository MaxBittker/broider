{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-3d234b162569c2eb.js","node_modules/@parcel/runtime-js/lib/runtime-8e1835d74d5b95be.js","node_modules/@parcel/runtime-js/lib/runtime-bd7cc2acba6ae9eb.js","node_modules/@parcel/runtime-js/lib/runtime-d37ce51439b5300f.js","node_modules/toggle-selection/index.js","node_modules/copy-to-clipboard/index.js","src/state.ts","src/utils.ts","src/render.ts","index.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6evGa\\\":\\\"index.268d9ac4.js\\\",\\\"55edQ\\\":\\\"1.4174c112.png\\\",\\\"99rIB\\\":\\\"2.672c92e3.png\\\",\\\"aLMx8\\\":\\\"4.1e9ab26e.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"55edQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"99rIB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aLMx8\")).toString();","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"âŒ˜\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","var tileSize = 7;\nvar editorRatio = 16;\n\nexport {tileSize, editorRatio};\n","import { tileSize } from './state';\n\nfunction newCell() {\n  let rows = new Array(tileSize).fill(0);\n  return rows.map((v, i) => new Array(tileSize).fill(0));\n}\nfunction newGrid() {\n  let rows = new Array(3).fill(0);\n  return rows.map((v, i) => {\n    let col = new Array(3).fill(0);\n    return col.map((v, i) => newCell());\n  });\n}\n\nfunction randomInt(amin: number, amax?: number) {\n  var min = amin;\n  var max = amax;\n  if (arguments.length == 1) {\n    min = 0;\n    max = amin;\n  }\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction randomLoc() {\n  return [randomInt(3), randomInt(3), randomInt(tileSize), randomInt(tileSize)];\n}\nfunction rotatePair([x, y]) {\n  let gridSize = 3 * tileSize;\n  return [gridSize - y, x];\n}\nfunction rotationSet([x, y], n = 1) {\n  let gridSize = 3 * tileSize - 1;\n\n  return [\n    [x, y], [gridSize - y, x], [gridSize - x, gridSize - y], [y, gridSize - x]\n  ];\n}\nfunction getLoc(map: any[][][][], loc: number[]): number {\n  let r = loc.reduce((acc, i) => acc[i], map);\n  if (typeof r !== 'number') {\n    return 0;\n  } else {\n    return r;\n  }\n}\n\nfunction setLoc(map: any[][][][], loc: any[], v: number = 1) {\n  let address = loc.slice(0, -1);\n  let lastPos = loc[loc.length - 1];\n\n  address.reduce((acc, i) => acc[i], map)[lastPos] = v;\n}\n\nexport { newGrid, randomLoc, randomInt, getLoc, setLoc, rotatePair, rotationSet };\n","import copy from 'copy-to-clipboard';\n\nimport { editorRatio, tileSize } from './state';\nimport { getLoc } from './utils';\n\nlet target = <HTMLElement>document.getElementById('target');\n\n\n// let vectortarget = <HTMLElement>document.getElementById('vector-target');\n\n\nlet canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById('editor');\nlet guideCanvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById('guide');\nlet renderCanvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById('render');\nvar ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\nvar guideCtx = guideCanvas.getContext('2d') as CanvasRenderingContext2D;\nvar renderCtx = renderCanvas.getContext('2d') as CanvasRenderingContext2D;\n\n\n\n\nrenderCtx.imageSmoothingEnabled = false;\nfunction cleanMap() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\nfunction renderMap(map, pixelRatio) {\n  renderCtx.fill();\n\n  for (let sx = 0; sx < 3; sx++) {\n    for (let sy = 0; sy < 3; sy++) {\n      for (let cx = 0; cx < tileSize; cx++) {\n        for (let cy = 0; cy < tileSize; cy++) {\n          let v = getLoc(map, [sx, sy, cx, cy]);\n\n          ctx.fillStyle = v == 1 ? window.paintColor : '#fff0';\n          renderCtx.fillStyle = v == 1 ? window.paintColor : '#fff0';\n          let gridX = (sx * tileSize + cx) * pixelRatio;\n          let gridY = (sy * tileSize + cy) * pixelRatio;\n          if (sx == 1 && sy == 1) {\n            continue;\n          }\n          renderCtx.clearRect(gridX, gridY, pixelRatio, pixelRatio);\n          renderCtx.fillRect(gridX, gridY, pixelRatio, pixelRatio);\n          gridX *= editorRatio / pixelRatio;\n          gridY *= editorRatio / pixelRatio;\n          ctx.fillRect(gridX + 1, gridY + 1, editorRatio - 1, editorRatio - 1);\n        }\n      }\n    }\n  }\n  // renderVector(map, pixelRatio)\n}\nfunction drawGuide() {\n  for (let index = 1; index < 3; index++) {\n    guideCtx.strokeStyle = '#33f';\n    guideCtx.lineWidth = 0.5;\n    let x = (index * canvas.width) / 3;\n    guideCtx.beginPath();\n    guideCtx.moveTo(x, 0);\n    guideCtx.lineTo(x, canvas.height);\n    guideCtx.stroke();\n    guideCtx.beginPath();\n    guideCtx.moveTo(0, x);\n    guideCtx.lineTo(canvas.height, x);\n    guideCtx.stroke();\n  }\n\n  for (let index = 0.0; index < 3 * tileSize; index++) {\n    guideCtx.strokeStyle = '#ccc';\n    let x = (index * canvas.width) / (3 * tileSize);\n    guideCtx.beginPath();\n    guideCtx.moveTo(x, 0);\n    guideCtx.lineTo(x, canvas.height);\n    guideCtx.stroke();\n    guideCtx.beginPath();\n    guideCtx.moveTo(0, x);\n    guideCtx.lineTo(canvas.height, x);\n    guideCtx.stroke();\n  }\n  let third = canvas.width / 3;\n  guideCtx.clearRect(third + 1, third + 1, third - 2, third - 2);\n  guideCtx.beginPath();\n  guideCtx.moveTo(third * 1, third * 2);\n  guideCtx.lineTo(third * 2, third * 1);\n  guideCtx.stroke();\n  guideCtx.beginPath();\n  guideCtx.moveTo(third * 1, third * 1);\n  guideCtx.lineTo(third * 2, third * 2);\n  guideCtx.stroke();\n}\n\nfunction setBorder(pixelRatio) {\n  let dataURI = renderCanvas.toDataURL();\n  // let dataURI2 = renderVector(map, pixelRatio);\n\n  // console.log(dataURI.length);\n  // console.log(dataURI2.length);\n  let style = <HTMLStyleElement>document.getElementById('border-style');\n  if (style) style.remove();\n  style = document.createElement('style');\n  style.id = 'border-style';\n  document.head.appendChild(style);\n\n  let viewsize = tileSize * pixelRatio;\n  let css = `.broider {\n    border-image:  url(\"${dataURI}\") ${viewsize} /  ${viewsize}px / 0 round;\n    border-width:  ${viewsize}px;\n    border-style:  solid;\n}`;\n  style.sheet.insertRule(css);\n  target.textContent = css;\n}\nfunction svgToDataURL(svgStr) {\n  const encoded =\n    encodeURIComponent(svgStr).replace(/'/g, '%27').replace(/\"/g, '%22')\n\n  const header = 'data:image/svg+xml,'\n  const dataUrl = header + encoded\n  return dataUrl\n}\n\n\n// function renderVector(map, pixelRatio) {\n//   let content = `<svg \n//       width=\"${tileSize * pixelRatio * 3}px\"\n//       height=\"${tileSize * pixelRatio * 3}px\"\n//       viewBox=\"0 0 ${tileSize * pixelRatio * 3} ${tileSize * pixelRatio * 3}\" \n//       fill=\"red\"\n//       stroke=\"none\"\n//       xmlns=\"http://www.w3.org/2000/svg\"\n//       >`;\n//   for (let sx = 0; sx < 3; sx++) {\n//     for (let sy = 0; sy < 3; sy++) {\n//       for (let cx = 0; cx < tileSize; cx++) {\n//         for (let cy = 0; cy < tileSize; cy++) {\n//           let v = getLoc(map, [sx, sy, cx, cy]);\n\n//           let gridX = (sx * tileSize + cx) * pixelRatio;\n//           let gridY = (sy * tileSize + cy) * pixelRatio;\n\n//           if (sx == 1 && sy == 1) {\n//             continue;\n//           }\n\n//           if (v == 1) {\n//             content += `<rect x=\"${gridX}\" y=\"${gridY}\" width=\"${pixelRatio}px\" height=\"${pixelRatio}px\"/>`;\n//           }\n//         }\n//       }\n//     }\n//   }\n//   // console.log(content)\n//   content += '</svg>';\n//   // vectortarget.innerHTML = content;\n//   let dataURI = svgToDataURL(content);\n//   return dataURI\n\n//   // vector.setAttribute(\n//   // 'viewBox',\n//   // `0 0 ${tileSize * pixelRatio * 3} ${tileSize * pixelRatio *\n//   // 3}`);\n//   // vector.innerHTML = content;\n// }\nfunction renderHover(map: any[][][][], loc: number[]) {\n  let x = loc[0] * tileSize + loc[2];\n  let y = loc[1] * tileSize + loc[3];\n  ctx.fillStyle = getLoc(map, loc) == 1 ? '#dde' : '#dde';\n  if (loc[0] == 1 && loc[1] == 1) {\n    return;\n  }\n  ctx.fillRect(\n    x * editorRatio + 0, y * editorRatio + 0, editorRatio - 0,\n    editorRatio - 0);\n}\n\ntarget.addEventListener('click', copyTarget);\nfunction resetCopy() {\n  target.setAttribute('data-after', '[Click to copy]');\n}\n\nresetCopy();\nfunction copyTarget() {\n  copy(target.textContent, { message: 'Press #{key} to copy css' });\n  target.setAttribute('data-after', 'Copied to your clipboard!');\n  target.classList.remove('flash');\n\n  window.setTimeout(() => {\n    target.classList.add('flash');\n  }, 1);\n  window.setTimeout(resetCopy, 2500);\n}\nexport { renderMap, drawGuide, setBorder, renderHover, cleanMap };\n","import onePng from './assets/1.png';\nimport twoPng from './assets/2.png';\nimport fourPng from './assets/4.png';\nimport { cleanMap, drawGuide, renderHover, renderMap, setBorder } from './src/render';\nimport { editorRatio, tileSize } from './src/state';\nimport { getLoc, newGrid, rotationSet, setLoc } from './src/utils';\n\nlet penElement = <HTMLElement>document.getElementById('pen');\nlet eraserElement = <HTMLElement>document.getElementById('eraser');\nlet symmetryElement = <HTMLElement>document.getElementById('symmetry');\nlet undoElement = <HTMLImageElement>document.getElementById('undo');\nlet scaleElement = <HTMLImageElement>document.getElementById('scale');\n\nlet colorPicker = <HTMLInputElement>document.getElementById('color');\n\n\nlet frame = <HTMLElement>document.getElementById('editor-frame');\nlet canvas = <HTMLCanvasElement>document.getElementById('editor');\nlet guideCanvas = <HTMLCanvasElement>document.getElementById('guide');\nlet renderCanvas = <HTMLCanvasElement>document.getElementById('render');\ncanvas.width = tileSize * editorRatio * 3;\ncanvas.height = tileSize * editorRatio * 3;\nguideCanvas.width = tileSize * editorRatio * 3;\nguideCanvas.height = tileSize * editorRatio * 3;\n\nlet sizeIndex = 2;\nlet sizeList = [1, 2, 4];\nlet pngList = [onePng, twoPng, fourPng];\nlet pixelRatio = sizeList[sizeIndex];\nrenderCanvas.width = tileSize * pixelRatio * 3;\nrenderCanvas.height = tileSize * pixelRatio * 3;\nscaleElement.addEventListener('click', () => {\n  sizeIndex = (sizeIndex + 1) % sizeList.length;\n  scaleElement.src = pngList[sizeIndex];\n  pixelRatio = sizeList[sizeIndex];\n  renderCanvas.width = tileSize * pixelRatio * 3;\n  renderCanvas.height = tileSize * pixelRatio * 3;\n  renderMap(map, pixelRatio);\n  setBorder(pixelRatio);\n  updateFrameHeight();\n});\n\nwindow.paintColor = '#000';\ncolorPicker.addEventListener('input', (e) => {\n  window.paintColor = e.target.value;\n  renderMap(map, pixelRatio);\n  setBorder(pixelRatio);\n})\n\n\nfunction updateFrameHeight() {\n  frame.style.height = canvas.getBoundingClientRect().width + 'px';\n}\ndocument.addEventListener('DOMContentLoaded', updateFrameHeight);\nwindow.addEventListener('resize', updateFrameHeight);\n\nvar isDown = false;\nvar isErasing = false;\nvar rotationalSymmetry = true;\n\nsymmetryElement.addEventListener('click', e => {\n  rotationalSymmetry = !rotationalSymmetry;\n  symmetryElement.classList.toggle('selected');\n});\n\neraserElement.addEventListener('click', e => {\n  isErasing = true;\n  eraserElement.classList.add('selected');\n  penElement.classList.remove('selected');\n});\n\npenElement.addEventListener('click', e => {\n  isErasing = false;\n  penElement.classList.add('selected');\n  eraserElement.classList.remove('selected');\n});\n\nvar map = newGrid();\nlet undoStack = [JSON.stringify(map)];\nfunction pushUndo() {\n  let candidate = JSON.stringify(map);\n  let top = undoStack[undoStack.length - 1];\n  if (candidate == top) {\n    return;\n  }\n\n  undoStack.push(candidate);\n\n  if (undoStack.length > 50) {\n    undoStack.shift();\n  }\n  undoElement.classList.add('selected');\n}\nfunction popUndo() {\n  undoStack.pop();\n  let old = undoStack[undoStack.length - 1];\n  if (old) {\n    map = JSON.parse(old);\n    cleanMap();\n    renderMap(map, pixelRatio);\n    setBorder(pixelRatio);\n  }\n}\nundoElement.addEventListener('click', e => {\n  popUndo();\n  if (undoStack.length < 2) {\n    undoElement.classList.remove('selected');\n  }\n  e.preventDefault();\n});\ndrawGuide();\nrenderMap(map, pixelRatio);\nsetBorder(pixelRatio);\n\nfunction draw(loc, v) {\n  if (isDown) {\n    setLoc(map, loc, 1 - v);\n  }\n}\nlet handleEvent = (e, isClick = false, isHover = false) => {\n  let { left, top, width, height } = canvas.getBoundingClientRect();\n  let x = e.clientX - left;\n  let y = e.clientY - top;\n  let canvasX = (x / width) * canvas.width;\n  let canvasY = (y / height) * canvas.height;\n  let gridX = Math.floor(canvasX / editorRatio);\n  let gridY = Math.floor(canvasY / editorRatio);\n\n  let rotatePairs =\n    rotationalSymmetry ? rotationSet([gridX, gridY]) : [[gridX, gridY]];\n\n  cleanMap();\n  // renderMap(map,pixelRatio);\n\n  rotatePairs.forEach(([gridX, gridY]) => {\n    let sx = Math.floor(gridX / tileSize);\n    let sy = Math.floor(gridY / tileSize);\n    let cx = gridX % tileSize;\n    let cy = gridY % tileSize;\n    let loc = [sx, sy, cx, cy];\n\n    if (sx < 0 || sx > 2 || sy < 0 || sy > 2) {\n      return;\n    }\n    if (isHover) {\n      renderHover(map, loc);\n    }\n    let v = getLoc(map, loc);\n\n    if (!isClick) {\n      v = 0;\n    }\n\n    if (isErasing) {\n      v = 1;\n    }\n    draw(loc, v);\n  });\n  renderMap(map, pixelRatio);\n  window.setTimeout(() => setBorder(pixelRatio), 0);\n};\n\ncanvas.addEventListener('mousedown', e => {\n  isDown = true;\n  handleEvent(e, true);\n});\ncanvas.addEventListener('mousemove', e => {\n  handleEvent(e, false, true);\n});\ncanvas.addEventListener('mouseout', e => {\n  cleanMap();\n  renderMap(map, pixelRatio);\n});\nwindow.addEventListener('mousedown', () => {\n  isDown = true;\n});\nwindow.addEventListener('mouseup', () => {\n  isDown = false;\n  pushUndo();\n});\ncanvas.addEventListener('touchend', e => {\n  isDown = false;\n  pushUndo();\n});\ncanvas.addEventListener('touchstart', e => {\n  isDown = true;\n\n  e.preventDefault();\n\n  const touches = e.targetTouches;\n  for (let i = 0; i < touches.length; i++) {\n    e['clientX'] = touches[i].clientX;\n    e['clientY'] = touches[i].clientY;\n    handleEvent(e);\n  }\n});\ncanvas.addEventListener('touchmove', e => {\n  e.preventDefault();\n  isDown = true;\n\n  const touches = e.targetTouches;\n  for (let i = 0; i < touches.length; i++) {\n    e['clientX'] = touches[i].clientX;\n    e['clientY'] = touches[i].clientY;\n    handleEvent(e);\n  }\n});\nlet lastTouchEnd = 0;\nwindow.addEventListener('touchend', e => {\n  // prevent double tap zoom\n  if (e.timeStamp - lastTouchEnd <= 500) {\n    e.preventDefault();\n    e.target.click();\n  }\n  isDown = false;\n  lastTouchEnd = e.timeStamp;\n});\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$298da1ce81b1d220$exports","URL","resolve","import","meta","url","toString","$18cc30ef1b720cbb$exports","$cb43c2321a81d121$exports","$9e6bd5018912b3a9$exports","selection","document","getSelection","rangeCount","active","activeElement","ranges","push","getRangeAt","tagName","toUpperCase","blur","removeAllRanges","type","forEach","range","addRange","focus","$e5a78797c4262d1f$var$clipboardToIE11Formatting","default","$e5a78797c4262d1f$exports","text","options","debug","message","reselectPrevious","mark","success","createRange","createElement","textContent","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","format","preventDefault","clipboardData","console","warn","window","clearData","setData","onCopy","body","appendChild","selectNodeContents","execCommand","err1","error","err","copyKey","test","navigator","userAgent","replace","$e5a78797c4262d1f$var$format","prompt","removeRange","removeChild","$0b89d474933103bc$export$a104aba81ad9a911","$df5bef30413a053b$export$7b2d291483575ad6","x","y","n","$df5bef30413a053b$export$1e9173ebc1b84b","map","loc","r","reduce","acc","$e3d6ee63ed1479b9$var$target","getElementById","$e3d6ee63ed1479b9$var$canvas","$e3d6ee63ed1479b9$var$guideCanvas","$e3d6ee63ed1479b9$var$renderCanvas","$e3d6ee63ed1479b9$var$ctx","getContext","$e3d6ee63ed1479b9$var$guideCtx","$e3d6ee63ed1479b9$var$renderCtx","$e3d6ee63ed1479b9$export$e62d9f5f4a94939","clearRect","width","height","$e3d6ee63ed1479b9$export$fe4501d50e7230de","pixelRatio","fill","sx","sy","cx","cy","v","fillStyle","paintColor","gridX","gridY","fillRect","$e3d6ee63ed1479b9$export$df6de19f3e6baa52","dataURI","toDataURL","remove","head","viewsize","css","sheet","insertRule","$e3d6ee63ed1479b9$export$2ed6d5ab9f430f6b","$e3d6ee63ed1479b9$var$resetCopy","setAttribute","imageSmoothingEnabled","$parcel$interopDefault","classList","setTimeout","add","$543d6d2a56ed7d8d$var$penElement","$543d6d2a56ed7d8d$var$eraserElement","$543d6d2a56ed7d8d$var$symmetryElement","$543d6d2a56ed7d8d$var$undoElement","$543d6d2a56ed7d8d$var$scaleElement","$543d6d2a56ed7d8d$var$colorPicker","$543d6d2a56ed7d8d$var$frame","$543d6d2a56ed7d8d$var$canvas","$543d6d2a56ed7d8d$var$guideCanvas","$543d6d2a56ed7d8d$var$renderCanvas","$543d6d2a56ed7d8d$var$sizeIndex","$543d6d2a56ed7d8d$var$sizeList","$543d6d2a56ed7d8d$var$pngList","$543d6d2a56ed7d8d$var$pixelRatio","$543d6d2a56ed7d8d$var$updateFrameHeight","getBoundingClientRect","src","$543d6d2a56ed7d8d$var$map","target","value","$543d6d2a56ed7d8d$var$isDown","$543d6d2a56ed7d8d$var$isErasing","$543d6d2a56ed7d8d$var$rotationalSymmetry","toggle","Array","$543d6d2a56ed7d8d$var$undoStack","stringify","$543d6d2a56ed7d8d$var$pushUndo","candidate","shift","pop","old","$543d6d2a56ed7d8d$var$popUndo","index","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","index1","x1","third","$543d6d2a56ed7d8d$var$handleEvent","isClick","isHover","left","clientX","clientY","canvasX","canvasY","Math","floor","rotatePairs","address","slice","lastPos","$543d6d2a56ed7d8d$var$draw","touches","targetTouches","$543d6d2a56ed7d8d$var$lastTouchEnd","timeStamp","click"],"version":3,"file":"index.268d9ac4.js.map"}